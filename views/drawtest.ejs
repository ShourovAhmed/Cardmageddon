<!DOCTYPE html>
<html lang="BE-nl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawtest</title>
    
    
    <link rel="stylesheet" href="/css/style-universal.css">
    <link rel="stylesheet" href="/css/style-modal.css">
    <link rel="stylesheet" href="/css/style-header.css">
    <link rel="stylesheet" href="/css/Styles-test.css">

   
    <link rel="icon" type="image/png" href="/public/assets/images/general/siteIcon.png">
    
</head>

<%- include("partials/header") -%>




<main>


  <section class="sub-header">
    <h1>Drawtest</h1>
    
  </section>


  <section id="layout">

<section id="forms-draw">

<article id="formDraw" action="">
  <form action="/drawtest" method="post">
    <label for="decks">Select deck</label>
    <select name="Selection">
      <option name="blabla" type="submit"  value="<%=selectedDeck%>"><%=ListCardReady[selectedDeck].deckName%></option>
<%
                
      for(let i =1;i<ListCardReady.length; i++){  
%>
      
  <option name="blabla" type="submit"  value="<%=i%>"><%=ListCardReady[i].deckName%></option>
      
      <% 
    }
      %>   
    </select>
    <button id="btnDrawTest"  name="buttonType"  type="submit" value="changeDeck" style="margin-left: 0.3rem;">&nbsp;Select&nbsp;  </button>
  </form>
  
    <br><br>
    <form action="/drawtest" method="post">
    <button id="btnDrawTest"  name="buttonType" id="drawButton" type="submit" value="NewCard">Draw Card</button>
    </form>
  

    
    <br>
    <img src="/assets/images/backside-card.png" id="drawPile" alt="">
    <br>
    <form action="/drawtest" method="post">
    <button id="btnDrawTest" name="buttonType" type="submit" value="NewHand" >
      New Hand</button>
    </form>
    
    <form id="draw-chance"  action="/drawtest" method="post">
      <label for="drawchance">Calculate chance to draw card</label> <br>
      

      <form action="/drawtest" method="post">
        
        <section class="calculation"> 
        <select name="Selection">
          
          <option name="blabla" type="submit"  value="<%=selectedCard%>"><%=ListCardReady[selectedDeck].simpleCard[selectedCard].name%></option> 
    <%
                    
         let i=0;
            for(let j =ListCardReady[selectedDeck].simpleCard.length-1;j>0; j--)  {
    %>
      
      <option name="blabla" type="submit"  value="<%=i%>"><%=ListCardReady[selectedDeck].simpleCard[j].name%></option>
          
          <% 
        i++}
          %>  
           
        </select>
        
        <button id="btnDrawTest"  name="buttonType"  type="submit" value="calculate" style="font-size: 0.7rem; margin-left: -3px; border-top-left-radius: 0% ">&nbsp;select&nbsp   </button>
        </section>
        <p>Chance to draw: 
        <%=Math.ceil((1/(ListCardReady[selectedDeck].simpleCard.length-drawnCards))*100)%>%</p>
        <p>

        
      
      <img src="<%=ListCardReady[selectedDeck].simpleCard[selectedCard].img%>" id="drawPile" alt="">
      <p><%=ListCardReady[selectedDeck].simpleCard[selectedCard].name%></p>
      </form>


      
  </form>
 




</article>

</form>
</section>


  <article id="previewDraw">
    <li>
    <img src="/assets/images/backside-card.png" id="drawPile" style="visibility: hidden;" alt="">
  </li>
  <li>

    <img src="/assets/images/backside-card.png" id="drawPile" style="visibility: hidden;" alt="">
    </li>
    <li>

      <img src="/assets/images/backside-card.png" id="drawPile" style="visibility: hidden;" alt="">
      </li>
      <li>

        <img src="/assets/images/backside-card.png" id="drawPile" style="visibility: hidden;" alt="">
        </li>
        <li>

          <img src="/assets/images/backside-card.png" id="drawPile" style="visibility: hidden;" alt="">
          </li><li>

            <img src="/assets/images/backside-card.png" id="drawPile" style="visibility: hidden;" alt="">
            </li>

    

    <%
                
    for(let i =0;i<drawnCards&&i<ListCardReady[selectedDeck].simpleCard.length; i++){  
%>

    
    <li>
      
     
      
      <img src="<%=ListCardReady[selectedDeck].simpleCard[i].img%>" id="drawPile" alt=""> 



    </li>
    
    <% 
  }
    %>   
  </article>
</section>



</main>
<footer>

</footer> 



<section id="modals">

  <modal id="loginM">

      <button class="hideM">X</button>
      <form action="#" onsubmit="setLoginStatus()" class="modal-form">
          <label for="username">Gebruikersnaam</label>
          <br>
          <input type="text" id="username" required>
          <br>
          <label for="password">Paswoord</label>
          <br>
          <input type="text" id="password" required>
          <br>
          <button id="request-login-btn" type="submit">Aanmelden</button>
      </form>

  </modal>

  <modal id="logoutM">

      <button class="hideM">X</button>
      <form action="./index.html" class="modal-form">
          <p>Weet u zeker dat u wilt:</p>
          <br>
          <button type="submit">Afmelden</button>
      </form>

  </modal>

  <modal id="cardM">

      <button class="hideM">X</button>

      <img src="./cardDetails.html" alt="">

  </modal>

  <modal id="errorM">

      <button class="hideM">X</button>
      <p>
          U hebt geen toegang to deze pagina.
      </p>

  </modal>

</section>

<script src="/public/js/modals.js"></script>
 
</html>